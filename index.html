<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory in Soft Pink</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital@0;1&family=Poppins:wght@300;400;500&display=swap');

*{box-sizing:border-box; font-family:'Poppins',sans-serif;}

body{
  margin:0;
  min-height:100vh;
  background:linear-gradient(135deg,#ffd1dc,#f7a1c4,#fbc2eb);
  overflow:hidden;
  color:#4a2c3a;
}

.center{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:20px;
  animation:fadeIn 1.5s ease;
}

h1,h2{font-family:'Playfair Display',serif;}

input,button{
  padding:14px 20px;
  border-radius:30px;
  border:none;
  outline:none;
  font-size:16px;
  margin-top:15px;
}

button{
  background:#ff6f9c;
  color:white;
  cursor:pointer;
  transition:0.3s;
}
button:hover{background:#ff4f87; transform:scale(1.05);}

.error{color:#b0004f; margin-top:15px; font-style:italic;}

/* Floating hearts */
.heart-float{
  position:absolute;
  color:rgba(255,255,255,0.4);
  animation:float 6s linear infinite;
}
@keyframes float{
  from{transform:translateY(100vh) scale(0.8);}
  to{transform:translateY(-10vh) scale(1.3);}
}

@keyframes fadeIn{
  from{opacity:0; transform:translateY(20px);}
  to{opacity:1; transform:translateY(0);}
}

/* Candle */
.candle{
  width:20px;
  height:80px;
  background:#fff;
  border-radius:10px;
  position:relative;
  margin:10px;
}
.flame{
  width:14px;
  height:14px;
  background:orange;
  border-radius:50%;
  position:absolute;
  top:-10px;
  left:3px;
  animation:flicker 0.3s infinite alternate;
}
@keyframes flicker{from{transform:scale(1);} to{transform:scale(1.2);}}
.blown{animation:blow 0.8s forwards;}
@keyframes blow{to{opacity:0; transform:translateY(-20px);}}

/* Popups */
.popup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.4);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:10;
}
.popup-box{
  background:linear-gradient(135deg,#ffe4ef,#ffd1e8);
  padding:30px;
  border-radius:25px;
  max-width:90%;
  animation:fadeIn 1s ease;
}

/* Photos */
.photo{
  width:260px;
  border-radius:20px;
  box-shadow:0 15px 40px rgba(0,0,0,0.2);
  animation:fadeIn 1s ease;
}
.caption{font-style:italic; margin-top:15px;}

/* Diary */
.diary{
  background:#fffafc;
  border-radius:25px;
  padding:30px;
  width:90%;
  max-width:400px;
  font-family:'Playfair Display',serif;
  animation:fadeIn 1s ease;
}

a{color:#ff2f7d; font-weight:bold; text-decoration:none;}
</style>
</head>

<body>

<script>
for(let i=0;i<25;i++){
    let h=document.createElement("div");
    h.className="heart-float";
    h.innerHTML="â™¥";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=10+Math.random()*20+"px";
    h.style.animationDuration=4+Math.random()*6+"s";
    document.body.appendChild(h);
}
</script>

<div id="app" class="center"></div>

<audio id="song" src="Ve Haaniyaan Danny 320 Kbps.mp3"></audio>

<script>
const app=document.getElementById("app");
let candlesBlown=0, totalCandles=0, photoIndex=0, diaryIndex=0;

const photos=[
  {src:"timeline_2_attachment.png", text:"When You Become Important"},
  {src:"IMG_20251230_002736_954.jpg", text:"Our first Photo"},
  {src:"802706af-da00-40b8-a0bc-46c20f9c1d8e.png", text:"History was created!"},
  {src:"ChatGPT Image Dec 29, 2025, 11_54_11 PM.png", text:"That Karnal Month!"},
  {src:"ChatGPT Image Dec 30, 2025, 12_14_58 AM.png", text:"When I want time to stop"}
];

const reasons=[
"I like you because youâ€™re kind, even when no one is watching.",
"I like you because you listen, not just hear.",
"I like you because youâ€™re realâ€”no fake vibes.",
"I like you because you care deeply, even if you donâ€™t always show it.",
"I like you because talking to you feels easy and natural.",
"I like you because you respect peopleâ€™s feelings.",
"I like you because you make me feel comfortable being myself.",
"I like you because you have a beautiful heart.",
"I like you because youâ€™re strong in your own quiet way.",
"I like you because you notice small things.",
"I like you because youâ€™re thoughtful and caring.",
"I like you because you inspire me to be better.",
"I like you because youâ€™re uniqueâ€”thereâ€™s no one like you.",
"I like you because I feel happy when I talk to you.",
"And honestlyâ€¦ I like you because youâ€™re you."
];

function askName(){
    app.innerHTML=`
    <h1>Heyâ€¦ ðŸ’—</h1>
    <p>Tell me your beautiful name</p>
    <input id="name">
    <button onclick="checkName()">Continue</button>
    <div id="err" class="error"></div>`;
}
askName();

function checkName(){
    let n=document.getElementById("name").value.toLowerCase().trim();
    if(n==="the prenita"||n==="mehta shahab"){ askAge(); }
    else{ document.getElementById("err").innerText=
        "Hmmâ€¦ this page feels shy ðŸ¥º\nOnly someone very special can enter.\nTry once more, gently ðŸ’ž"; }
}

function askAge(){
    app.innerHTML=`
    <h2>How many candles shall we light tonight? ðŸŽ‚</h2>
    <input type="number" id="age">
    <button onclick="makeCandles()">Light them</button>`;
}

function makeCandles(){
    totalCandles=parseInt(document.getElementById("age").value);
    let html="<h2>Blow them slowlyâ€¦ ðŸ’¨</h2><div style='display:flex;flex-wrap:wrap;justify-content:center'>";
    for(let i=0;i<totalCandles;i++){
        html+=`<div class="candle" onclick="blow(this)">
        <div class="flame"></div></div>`;
    }
    html+="</div>";
    app.innerHTML=html;
}

function blow(c){
    if(c.classList.contains("blown")) return;
    c.querySelector(".flame").classList.add("blown");
    candlesBlown++;

    if(candlesBlown===1) musicPopup();
    if(candlesBlown===Math.floor(totalCandles/2)) memoryExpress();
    if(candlesBlown===totalCandles-1) showDiaryIndependent();
    if(candlesBlown===totalCandles) finalMessage();
}

function musicPopup(){
    document.body.insertAdjacentHTML("beforeend",`
    <div class="popup">
    <div class="popup-box">
    <h2>Do you want to play a song while we continue? ðŸŽ¶</h2>
    <button onclick="playSong()">Yes</button>
    <button onclick="playSong()">Of course</button>
    </div></div>`);
}

function playSong(){ document.getElementById("song").play(); document.querySelector(".popup").remove(); }

function memoryExpress(){
    document.body.insertAdjacentHTML("beforeend",`
    <div class="popup">
    <div class="popup-box" onclick="nextPhoto()">
    <h1>ðŸ’– Memory Express ðŸ’–</h1>
    <p>(Tap to continue)</p>
    </div></div>`);
}

function nextPhoto(){
    let box=document.querySelector(".popup-box");
    if(photoIndex<photos.length){
        box.innerHTML=`
        <img class="photo" src="${photos[photoIndex].src}">
        <div class="caption">${photos[photoIndex].text}<br>(Tap to change)</div>`;
        photoIndex++;
    } else { document.querySelector(".popup").remove(); }
}

// Diary now independent so it does NOT block last candle
function showDiaryIndependent(){
    if(document.querySelector(".diary")) return; // already shown
    let d=document.createElement("div");
    d.className="diary";
    d.onclick=nextReason;
    d.innerHTML=`<h2>15 Reasons why I like you ðŸ’Œ</h2><p>(Tap slowly)</p>`;
    document.body.appendChild(d);
}

function nextReason(){
    let d=document.querySelector(".diary");
    if(diaryIndex<reasons.length){
        d.innerHTML=`<h3>${reasons[diaryIndex]}</h3>`;
        diaryIndex++;
    }
}

function finalMessage(){
    document.body.insertAdjacentHTML("beforeend",`
    <div class="popup">
    <div class="popup-box">
    <h2>One Last Thingâ€¦ ðŸ’ž</h2>
    <p>Click when youâ€™re ready</p>
    <a href="https://meet.google.com/xsi-pdqn-vam" target="_blank">
    Letâ€™s meet here ðŸ’—</a>
    </div></div>`);
}
</script>

</body>
</html>
